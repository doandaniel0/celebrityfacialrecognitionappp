{% extends "layout.html" %}

<body>
  {% block body %}
    <link rel="stylesheet" href="{{ url_for('static', filename='compare-style.css') }}">
  
    <!-- Page Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h1 class="mt-1">Face Comparison</h1>
          <p class="lead">Upload two selfies!</p>
          <form action="/compare" method="POST" enctype="multipart/form-data">
            <div class="form-group row">
              <div class="col-2"></div>
              <div class="col-4">
                <div class="input-group">
                    <label class="input-group-btn">
                        <span class="btn btn-dark">
                            Choose Image <input type="file" style="display: none;" name="user_file1">
                        </span>
                    </label>
                    <input type="text" class="form-control" readonly>
                </div>
              </div>
              <div class="col-4">
                <div class="input-group">
                    <label class="input-group-btn">
                        <span class="btn btn-dark">
                            Choose Image <input type="file" style="display: none;" name="user_file2">
                        </span>
                    </label>
                    <input type="text" class="form-control" readonly>
                </div>
              </div>
            </div>
            <button type="submit" name="double_upload_button" class="btn btn-dark">Compare!</button>
          </form>
          
          <br>
          
          <!-- Error flashing -->
          {% if error %}
            <p class=error><strong>Error:</strong> {{ error }}
          {% endif %}
          
          <div class="form-group row">
            <div class="col-3">
              {% with messages = get_flashed_messages(category_filter=["user_image1"]) %}
              	{% if messages %}
              		<p class=flashes>
                  {% for message in messages %}
                    {{ message }}
                  {% endfor %}
              	{% endif %}
              {% endwith %}
            </div>
            <div class="col-1"></div>
            <div class="col-4">
              <!-- Message flashing -->
              {% with messages = get_flashed_messages(category_filter=["status"]) %}
              	{% if messages %}
              		<ul class=flashes>
                  {% for message in messages %}
                    <li>{{ message }}</li>
                  {% endfor %}
                  </ul>
              	{% endif %}
              {% endwith %}
            </div>
            <div class="col-1"></div>
            <div class="col-3">
              {% with messages = get_flashed_messages(category_filter=["user_image2"]) %}
              	{% if messages %}
              		<p class=flashes>
                  {% for message in messages %}
                    {{ message }}
                  {% endfor %}
              	{% endif %}
              {% endwith %}
            </div>
          </div>
        </div>
      </div>
    </div>
  {% endblock %}
</body>
